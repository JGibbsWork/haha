# Physical Button Lighting Control
# ZHA button press automations

- id: '1745524278768'
  alias: entry switch
  description: ''
  triggers:
  - device_id: c91eb9c0edbfbf43cb3c741aa9be08c3
    domain: zha
    type: remote_button_short_press
    subtype: button
    trigger: device
  conditions: []
  actions:
  - action: script.tv_blind_up
    metadata: {}
    data: {}
  - action: script.toggle_lights
    metadata: {}
    data: {}
  mode: single

- id: '1759809606458'
  alias: bedbuttonthings
  description: ''
  triggers:
  - device_id: e58d7882f45586de849429b440d9d651
    domain: zha
    type: remote_button_short_press
    subtype: button
    trigger: device
    id: single
  - device_id: e58d7882f45586de849429b440d9d651
    domain: zha
    type: remote_button_double_press
    subtype: button
    trigger: device
    id: double
  - device_id: e58d7882f45586de849429b440d9d651
    domain: zha
    type: remote_button_long_press
    subtype: button
    trigger: device
  conditions: []
  actions:
  - choose:
    - conditions:
      - condition: trigger
        id: double
      sequence:
      - action: script.toggle_lights
        metadata: {}
        data: {}
    - conditions:
      - condition: trigger
        id: single
      sequence:
      - action: script.lights_off
        metadata: {}
        data: {}
      - action: script.close_blinds
        metadata: {}
        data: {}
  mode: single
  variables:
    player: media_player.living_room

- id: kitchen_button_manual_override
  alias: "Kitchen Button: Toggle Manual Override"
  description: Single press toggles manual override for kitchen lights
  triggers:
  - device_id: f41b19586534c8b91f98a2fcfcbbf540
    domain: zha
    type: remote_button_short_press
    subtype: button
    trigger: device
  conditions: []
  actions:
  - action: input_boolean.toggle
    target:
      entity_id: input_boolean.kitchen_manual_override
  mode: single

- id: printer_button_briefing
  alias: "Printer Button: Print Briefing or Poem"
  description: First press of day prints briefing, subsequent presses print poems (day resets at 4am)
  triggers:
  - device_id: 8945df949b921f55dbba48be6dec9c2e
    domain: zha
    type: remote_button_short_press
    subtype: button
    trigger: device
  conditions: []
  actions:
  - choose:
    - conditions:
      - condition: state
        entity_id: input_boolean.briefing_printed_today
        state: "off"
      sequence:
      - action: rest_command.print_briefing
        data: {}
      - action: input_boolean.turn_on
        target:
          entity_id: input_boolean.briefing_printed_today
    default:
    - action: rest_command.print_poem
      data: {}
  mode: single

- id: reset_briefing_printed_daily
  alias: "Reset Briefing Printed Flag at 4am"
  description: Resets the briefing tracker at 4am so the first button press prints a briefing
  triggers:
  - trigger: time
    at: "04:00:00"
  conditions: []
  actions:
  - action: input_boolean.turn_off
    target:
      entity_id: input_boolean.briefing_printed_today
  mode: single
